$.notify=function(t){var i,e=$.extend({"vertical-align":"top",align:"left","hide-interval":"0",message:"text",afterClosed:function(){},afterShowed:function(){}},t),o=function(t){t.remove(),e.afterClosed()},n=function(t){t.fadeOut(200,function(){o(t)})},s=function(t){var i=$(window).height()/2-t.height()/2;t.css({top:i})},a=function(t,i){if(0!=t.length&&0!=i.length&&!t.is(":empty")&&!i.is(":empty")){if(t.offset().top<i.offset().top&&t.offset().top+t.height()>i.offset().top)return!0;if(i.offset().top<t.offset().top&&i.offset().top+i.height()>t.offset().top)return!0}return!1},c=function(t){t.hasClass("top-container")&&o(t.find("div:first-child")),t.hasClass("bottom-container")&&o(t.find("div:last-child")),t.hasClass("middle-container")&&(o(t.find("div:first-child")),s(t))},f=function(t,i){var e=$("#top-"+i+"-container"),o=$("#bottom-"+i+"-container"),n=$("#middle-"+i+"-container");return t.hasClass("top-container")?e.offset().top+e.height()>$(window).height()+$(window).scrollTop()?e:a(e,o)?o:a(e,n)?n:!1:t.hasClass("bottom-container")?o.offset().top<$(window).scrollTop()?o:a(o,e)?e:a(o,n)?n:!1:t.hasClass("middle-container")?n.offset().top<$(window).scrollTop()||n.offset().top+n.height()>$(window).height()+$(window).scrollTop()?n:a(n,e)?e:a(n,o)?o:!1:!1},r=e["vertical-align"]+"-"+e.align+"-container",l=$("#"+r);if(0==l.length){$("body").prepend('<div id="'+r+'" class="sticker-container '+e["vertical-align"]+"-container "+e.align+'-container"></div>'),l=$("#"+r);var d=$(window).width()/3-10;if(l.css({maxWidth:d}),"center"==e.align){var h=$(window).width()/2-l.width()/2;l.css({left:h})}}var p=$('<div class="sticker"><p class="sticker-close-button"></p><p class="sticker-message">'+e.message+"</p></div>");switch(p.find(".sticker-close-button").bind("click",function(){n(p)}),e["vertical-align"]){case"top":l.append(p);break;case"bottom":l.prepend(p);break;case"middle":l.append(p),s(l)}for(;i=f(l,e.align);)c(i);e.afterShowed(),0!=e["hide-interval"]&&setTimeout(function(){n(p)},e["hide-interval"])};